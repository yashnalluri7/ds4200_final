<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diabetes Predictor</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ‚úÖ Navbar from existing site -->
  <nav class="navbar">
    <div class="navbar__container">
      <a href="index.html" id="navbar__logo">
        <span class="logo-long">Group 26</span>
        <span class="logo-short">G26</span>
      </a>
      <div class="navbar__toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <ul class="navbar__menu">
        <li class="navbar__item">
          <a href="uncont.html" class="navbar__links">Uncontrollable Factors</a>
        </li>
        <li class="navbar__item">
          <a href="controllables.html" class="navbar__links">Controllable Factors</a>
        </li>
        <li class="navbar__item">
          <a href="analysis.html" class="navbar__links">Overall Analysis</a>
        </li>
        <li class="navbar__btn">
          <a href="predictor.html" class="button">Test Our Prediction!</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- ‚úÖ Predictor Form Section -->
  <div class="main__container">
    <div class="graph-container">
      <h2>üß† Diabetes Risk Predictor</h2>
      <form id="predictForm">
        <div class="form-group"><label>BMI: <input type="number" name="BMI" step="0.1" required /></label></div>
        <div class="form-group"><label>Age: <input type="number" name="Age" required /></label></div>
        <div class="form-group"><label>Sex (0 = Female, 1 = Male): <input type="number" name="Sex" min="0" max="1" required /></label></div>
        <div class="form-group"><label>High Cholesterol (0/1): <input type="number" name="HighChol" min="0" max="1" required /></label></div>
        <div class="form-group"><label>High Blood Pressure (0/1): <input type="number" name="HighBP" min="0" max="1" required /></label></div>
        <div class="form-group"><label>General Health (1 = Excellent, 5 = Poor): <input type="number" name="GenHlth" min="1" max="5" required /></label></div>
        <div class="form-group"><label>Smoker (0/1): <input type="number" name="Smoker" min="0" max="1" required /></label></div>
        <div class="form-group"><label>Physical Health Days (0‚Äì30): <input type="number" name="PhysHlth" min="0" max="30" required /></label></div>
        <div class="form-group"><label>Fruits (0/1): <input type="number" name="Fruits" min="0" max="1" required /></label></div>
        <div class="form-group"><label>Income Level (1 = Lowest, 8 = Highest): <input type="number" name="Income" min="1" max="8" required /></label></div>
        <div class="form-group"><label>Mental Health Days (0‚Äì30): <input type="number" name="MentHlth" min="0" max="30" required /></label></div>
        <div class="form-group"><label>Education Level (1 = Never attended, 6 = College grad): <input type="number" name="Education" min="1" max="6" required /></label></div>
        <button type="submit">Predict</button>
      </form>
      <div id="result"></div>
    </div>
  </div>

  <!-- ‚úÖ JS Prediction Logic -->
  <script src="model.js"></script>
  <script>
    const form = document.getElementById("predictForm");
    const result = document.getElementById("result");

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const formData = new FormData(form);
      const input = [];

      for (let value of formData.values()) {
        input.push(parseFloat(value));
      }

      const prediction = model.predict([input]);
      const classes = ["No Diabetes", "Prediabetic", "Diabetic"];
      result.innerText = `üîç Prediction: ${classes[prediction]}`;
    });
  </script>

  <!-- ‚úÖ Footer reused from index.html -->
  <footer>
    <div class="footer-container">
      <div class="masthead">
        <h2>About</h2>
        <p>All rights reserved</p>
      </div>
      <div class="footer-links">
        <ul>
          <li><a href="mailto:loose.a@northeastern.edu">üìß Andrew's Email</a></li>
          <li><a href="mailto:nalluri.y@northeastern.edu">üìß Yash's Email</a></li>
          <li><a href="mailto:ecsedy.b@northeastern.edu">üìß Ben's Email</a></li>
        </ul>
      </div>
    </div>
    <script src="script.js"></script>
  </footer>
</body>
</html>
